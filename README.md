# Twitch Bits/Subscribe Extractor from OneComme

わんコメに表示したコメントから Twitch のビッツ、サブスク、その他のギフト（主にサブスクギフト）、コメントしてくれた人を一覧表示するアプリです。

## 使い方

1. わんコメを起動し、配信サイトに接続してコメントを取得できるようにし、配信を始める
2. 配信が終わったら、**わんコメを起動した状態で**、index.html を開く
3. ブラウザに一覧が表示される
4. ユーザー名の右横のアイコンをクリックすると、ユーザーの一覧をクリップボードにコピーできる

## 注意事項

- わんコメを起動してない状態では、index.html に何も表示されません
- わんコメを一度閉じたら、わんコメを再起動しても、閉じる前のコメントからユーザー一覧を表示することはできません

## やっていること

- わんコメの HTTP API (http://localhost:11180/api/comments)で取得したデータからビッツ、サブスク、その他のギフト、コメントしてくれた人を抽出して、テーブル表示しています
- ユーザー名とユーザー ID は、最後のコメントの name、screenName を使用します。ただし、name、screenName が空白だった場合は一個前のコメントの name、screenName を使用します
- ニックネームは、最後のコメント時の nickname ではなく、index.html を読み込んだ時のニックネームを使用します。
もしユーザー情報が取れなかった場合は、最後のコメントの nickname を使用します。nickname がない場合は name を使用します

## 更新履歴

- V0.1.2: ニックネーム取得で無駄な処理が発生していたのを修正。読み込み中の表示を追加。
コメントしたユーザー一覧のユーザー名・ユーザーIDについて、最初のコメント時のname、screenNameを使っていたのを、最後のコメント時のname、screenNameを使用するように変更
- V0.1.1: ユーザー名がわんコメの設定によってはニックネームになるのを修正
- V0.1.0: わんコメのニックネームを表に追加（ニックネームがない場合はユーザー名を表示）
- V0.0.1: 初公開
